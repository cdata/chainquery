(function(a){a.query=(function(){var b=function(d){var c=this;c._url=d;c._options={};c._xhr=null;return c};b.prototype={options:function(d){var c=this;a.extend(true,c._options,d);return c},data:function(c){return this.options({data:c})},execute:function(e){var c=this,d=c._options;d.success=e||d.success;c._xhr=a.ajax(a.extend({url:c._url},d,{success:function(f){c._lastResult=f;if(d.success){return d.success.apply(this,arguments)}}},true));return c},get:function(d){var c=this;c._options.type="GET";c.execute(d)},post:function(d){var c=this;c._options.type="POST";c.execute(d)},paginate:function(c,e){var d=this;d._nextPage=c,d._previousPage=e;return d},nextPage:function(){var c=this,d=c._nextPage;if(d){d(c)}return c},previousPage:function(){var c=this,d=c._previousPage;if(d){d(c)}return c},abort:function(){var c=this;if(c._xhr){c._xhr.abort()}c._xhr=null;return c},value:function(){var c=this;return c._lastResult},clone:function(){var e=this,g=e._url,f=e._options,c=e._nextPage,d=e._previousPage;return new Query(e._url).options(e._options).paginate(c,d)},reset:function(){var c=this;c.cancel();c._options={};return c}};return function(c){return new b(c)}})()})(jQuery);