(function(f,h,b){var e=function(m){var l=[];m.define=function(n){k(n,function(p,o){l[o]=true;m.prototype[o]=(function(){var q=p;return function(t,r){var s=this;if(t){if(c(q,t,{})&&r!==true){g(q,t)}else{q=t}return s}else{return q}}})()})};m.prototype.define=function(o){var n=this;k(o,function(q,p){if(m.definitions[p]){n[p](q)}});return n};m.definitions=l;return m},k=function(n,o){if(n.length){for(var l=0;l<n.length;l++){if(o(n[i],i,n)===false){break}}}else{for(var m in n){if(o(n[m],m,n)===false){break}}}},g=function(l,m){k(m,function(o,n){l[n]=m[n]});return l},c=function(){var l=array.slice.call(arguments),m=typeof l.shift(),n=true;k(l,function(o){if(typeof o!==m){return n=false}});return n},d=1,a=2,j=4;f.ie=(function(){var l=3,n=h.createElement("div"),m=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+(++l)+"]><i></i><![endif]-->",m[0]){}return l>4?l:b})();f.transport=(function(){var m=f.ie,l=["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML3.XMLHTTP","MSXML2.XMLHTTP.6.0"],o=function(p){return new n(p)},n=e(function(p){this.attributes(p).invalidate()});g(n.prototype,{invalidate:function(){var q=this,u=q.xhr,p=q.attributes(),s=f.XMLHttpRequest,r=f.XDomainRequest;if(p&j){u(h.createElement("script"))}else{if(s){u(new s())}else{if((p&(a|d))&&m>=8&&r){u(new r())}else{if(m){while(l.length&&!u()){try{u(new ActiveXObject(l[l.length]))}catch(t){l.pop()}}}else{throw"Could not determine a valid HTTP request transport!"}}}}return q},send:function(v,r,s){var q=this,p=q.attributes(),u=q.headers(),t=q.xhr();if(p&j){(function(){var z="query"+Math.floor(Math.random()*(new Date).getTime()),y=h.getElementsByTagName("script")[0],w=function(A){q.response(A).complete()(A,q)},x=q.data()||{};t.onload=t.onreadystatechange=function(){var A=t.readyState;if(A&&A!="loaded"&&A!="complete"){return}t.onload=t.onreadystatechange=null;t.parentNode.removeChild(t);delete f[z]};x.callback=z;f[z]=w;y.src=r;y.parentNode.insertBefore(t,y)})()}else{(function(){var z=function(){var E=t.responseText,D=E.substring(A,A=E.length);return D.length?D:false},y=function(){var D=z(),E=q.progress();if(D){E(D,q)}},x=function(){var D=t.responseText,E=q.complete();C(B);y();q.response(D);E(D,q)},A=0,w=f.setInterval,C=f.clearInterval,B;if((p&(d|a))&&m>=8){t.onprogress=function(){if(!B){B=w(y,30)}};t.onload=x}else{t.onreadystatechange=function(){var D=t.readyState;if(D===3&&!B){B=w(y,30)}else{if(D===4){y();x()}}}}})();t.open(v,r,true);k(u,function(w,x){t.setRequestHeader(x,w)});t.send(s)}return q}});n.define({xhr:null,response:null,attributes:0,headers:{},async:true,error:function(){},progress:function(){},complete:function(){}});o.multipart=d;o.crossdomain=a;o.jsonp=j;return o})();f.query=(function(){var n={none:false,form:"application/x-www-form-urlencoded",xml:"application/xml",text:"text/plain",json:"application/json",any:"*/*"},o=function(p){return new l(p)},l=e(function(p){this.transport(transport()).url(p)});g(l.prototype,{request:function(p,q,s){var y=this,x=q||y.url(),u=p||y.method(),s=s||y.data(),v=y.dataType(),r=y.transport().error(function(z){y.error()(z,y)}).progress(function(z){y.progress()(z,y)}).complete(function(z){y.response(z).complete()(z,y)});y.data(s);y.url(q);if(v==n.json&&typeof s=="object"&&JSON){if(u.toLowerCase()==="get"){u="POST"}try{s=JSON.stringify(s)}catch(t){}}y.method(u);if(p.toLowerCase()==="get"){q=q.split("?")[0]+"?";for(var w in s){q+=w+"="+s[w]+"&"}s=b}r.headers({"Content-Type":v}).async(y.async()).send(u,x,s);return y},get:function(p){return this.request("GET",p)},post:function(p){return this.request("POST",p)},put:function(p){return this.request("PUT",p)},del:function(p){return this.request("DELETE",p)},abort:function(){this.transport().abort();return self},clone:function(){var p=this,q=new l();k(l.definitions,function(s,r){if(r!=="transport"){q[r](p[r]())}});return q}});l.define({data:null,url:"",method:"GET",async:true,dataType:n.json,transport:null,response:null,error:function(){},progress:function(){},complete:function(){}});for(var m in n){o[m]=n[m]}return o})()})(window,document);